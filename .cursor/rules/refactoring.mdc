---
description: リファクタリングを進める際に確認してほしいルール
globs: 
alwaysApply: false
---
## 絶対に守ってほしいこと

`以下の手順で進めること`と書かれているルールに関しては、箇条書きに従ってアクションを進め、一つのアクションが完了するたびに次のアクションを行って良いか承認を得てください。

## コミュニケーション

- プランニングは、以下の手順で進めること：
  1. `プランについて > 作成指針`に従ってプランを考える 
  2. `プランについて > フォーマット`に則ってプランを提案し、承認を得る
    - 指針に従ってプランを作成したということを表明する
    - フォーマットに則ってプランを提案したということを表明する
  3. ユーザーは提案が承認できたらCursorのNotepadにプランを保存する
- 各作業単位は以下の手順で進めること：
  1. 作業内容の説明と承認
  2. 実装
  3. テスト
  4. PRの作成
  5. レビューとマージ
  6. 次の作業単位の開始

## プランについて

### 作成指針

- 大項目は必ず番号付きリストで提示する
- 具体的なタスクは箇条書きで提示する
- コードに関連する部分（ファイル名、関数名など）は必ずバッククォートで囲む
- 各タスクは1つのPRとして切り出せる粒度にする
- 依存関係のあるタスクは、その順序が分かるように並べる

### フォーマット

プランは必ず以下のマークダウン形式で、コピペしやすいようにコードブロックで囲んで提案すること：

```markdown
# リファクタリングプラン

## 1. [大項目名]
- [具体的なタスク1]
- [具体的なタスク2]
...

## 2. [大項目名]
- [具体的なタスク1]
- [具体的なタスク2]
...
```

## ブランチ管理

- リファクタリング作業は、機能追加やバグ修正とは別のブランチで行う
- 現在のブランチに未コミットの変更がある場合は、先にその変更をPR化する
- 新しいリファクタリング作業を始める前に、mainブランチの最新状態を取得する
